<div class="component-container-col">
  <div>
    Welcome to Sadie: An application to organize and view the
    <a
      href="https://response.epa.gov/site/site_profile.aspx?site_id=ScribeGIS"
      target="_blank"
    > USEPA's Environmental Response Team's Scribe database
    </a>.
  </div>
  <div *ngIf="projectsLoaded">
    <mat-label>Select Project: </mat-label>
    <select matNativeControl [(ngModel)]="selectedProject" (ngModelChange)="projectChanged($event)" name="selectProject">
      <option value="" selected></option>
      <option *ngFor="let project of userProjects" [value]="project.projectid">
        {{project.project_name}}
      </option>
    </select>
    <span *ngIf="(projectSamplesRowData.length > mapNumOfFeatures)" class="mat-warn">
      &nbsp;&emsp; {{'Number of records without geospatial points:' + (projectSamplesRowData.length - mapNumOfFeatures)}}
    </span>
  </div>
  <div class="component-container-flex">
    <app-ag-grid
      *ngIf="samplesLoaded"
      [columnDefs]="projectSamplesColDefs"
      [rowData]="projectSamplesRowData"
      [ngStyle]="{'width': (projectSamplesRowData.length > 0 && mapNumOfFeatures > 0) ? '900px' : '100%'}"
    ></app-ag-grid>
    <app-map-view
      *ngIf="samplesLoaded"
      [pointData]="projectSamplesRowData"
      (mapFeaturesLoadedEvent)="setMapNumOfFeatures($event)"
      [ngStyle]="{'display': (mapNumOfFeatures >= 1) ? 'block' : 'none'}"
    ></app-map-view>
  </div>
</div>

